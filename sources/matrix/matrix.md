
# 基本概念

* 矢量：既有大小又有方向的量叫矢量
* 仿射变换：缩放/旋转变换 + 平移变换

注意：本文基于2D坐标系讨论矩阵

# 齐次坐标
百度百科解释：齐次坐标就是将一个原本是n维的向量用一个n+1维向量来表示。

齐次坐标有两个功能：

假设有一个变量P = （x，y）

1. 区分变量P到底是一个向量还是一个坐标点（因为增加了一个维度，所以增加的这个维度就可以用来表示到底是向量还是坐标点）
P =（x，y，0），该齐次坐标把变量p表示为一个向量
P =（x，y，1），该齐次坐标把变量p表示为一个坐标点

2. 方便图像的变换，可以通过一个矩阵同时进行图像的缩放/旋转/平移变换



# 学习视频
https://edu.csdn.net/course/detail/24525?utm_medium=distribute.pc_relevant.none-task-course-BlogCommendFromMachineLearnPai2-1.control&dist_request_id=1328602.71184.16152764358377615&depth_1-utm_source=distribute.pc_relevant.none-task-course-BlogCommendFromMachineLearnPai2-1.control


# 矩阵的运算

矩阵相加：
矩阵减法：
矩阵乘法：
矩阵除法：


# 图像变换（Transform）

2D图像的变换原理就是对一张图像里的每一个像素点做一次矩阵的运算操作，运算后所得到的像素坐标点就是变换后的点。旋转和缩放是乘法运算，平移是加法运算。下面列举了几个基本的变换矩阵。

## 平移变换矩阵

## 旋转变换矩阵

设旋转角度为x，那么有如下矩阵：

$$\begin{Bmatrix}
cos(x) & -sin(x) \\ 
sin(x) &  cos(x) \\
\end{Bmatrix}$$

## 缩放变化矩阵

设x轴缩放倍数为sx，y轴缩放倍数为sy，那么有如下矩阵：
$$\begin{Bmatrix}
sx &  0 \\ 
0  & sy \\
\end{Bmatrix}$$


## 仿射变换矩阵

仿射变换矩阵同时拥有平移/旋转/缩放这三个功能。

旋转和缩放都是用像素点乘上对应的变换矩阵就可以了，为了使平移也能够用矩阵乘法运算去变换，需要引入齐次坐标，在原来只有两个维度的坐标点上，新增加一个维度，如下所示：

$$\begin{Bmatrix}
x & y & 1 \\
\end{Bmatrix}$$

**注意：新增加的维度的值是1，意思是该齐次坐标表示的是一个坐标点。**

此时变换矩阵也要变成3x3的矩阵：

$$\begin{Bmatrix}
a & b & c \\ 
d & e & f \\
0 & 0 & 1 \\
\end{Bmatrix}$$

其中c和f就表示坐标点要平移的量，abde存储要旋转和缩放的量。

**变换规则如下图所示：**

![avatar](transform.png)

#### 计算仿射变换矩阵
设平移矩阵为A，旋转矩阵为B，缩放矩阵为C，那么仿射矩阵为ABC，注意运算顺序一定要正确，因为矩阵的乘法不满足交换律，顺序不对会导致计算出错误的变换矩阵。
